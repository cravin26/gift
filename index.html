<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Load Babel to process JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts for handwriting style -->
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .font-handwriting {
            font-family: 'Caveat', cursive;
        }
        
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
        .animate-fall { animation: fall 4s linear forwards; }
        
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-120vh) rotate(10deg); }
        }
        .animate-float { animation: float linear infinite; }
        
        @keyframes flicker {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(0.9) skewX(2deg); opacity: 0.8; }
        }
        .flame { animation: flicker 0.3s infinite alternate; box-shadow: 0 0 10px orange, 0 0 20px yellow; }

        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .animate-bounce-slow { animation: bounce-slow 3s infinite ease-in-out; }

        /* Custom Scrollbar for the reel */
        .memory-reel::-webkit-scrollbar {
            width: 8px;
        }
        .memory-reel::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
        }
        .memory-reel::-webkit-scrollbar-thumb {
            background: #FDA4AF;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS (Inline SVGs to avoid dependencies) ---
        const IconHeart = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );
        const IconVolume2 = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
        );
        const IconVolumeX = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" x2="17" y1="9" y2="15"/><line x1="17" x2="23" y1="9" y2="15"/></svg>
        );
        const IconCamera = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
        );
        const IconStar = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        );
        const IconGift = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg>
        );
        const IconSparkles = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5h-4"/><path d="M6 17v4"/><path d="M8 19h-4"/></svg>
        );
        const IconChevronDown = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6 9 6 6 6-6"/></svg>
        );

        // --- DATA CONFIGURATION ---
        // REPLACE THESE URLs WITH YOUR FRIEND'S PHOTOS
        const memories = [
          // I tried a different Google Drive link format here (thumbnail view) which is often more reliable
          { id: 1, url: "https://drive.google.com/thumbnail?id=1nSAw2jkg7J0gvF3dQHgRH-Q72pzc8zj3&sz=w1000", caption: "Hey goofball!!" },
          { id: 2, url: "https://drive.google.com/thumbnail?id=1PvbD9Uw39xKFS0B7u6AYe863KBS6n4Ov&sz=w1000", caption: "One of my fav pics" },
          { id: 3, url: "https://drive.google.com/thumbnail?id=1MYWc_sVb28OPYjgukWzx7djyXEgdZOUU&sz=w1000", caption: "A pic with my fav goofballsü•∞" },
          { id: 4, url: "https://drive.google.com/thumbnail?id=1W8Km70hZGblyfkF6onWdSN8W54DtCj8o&sz=w1000", caption: "Auraüòé" },
	  { id: 16, url: "https://drive.google.com/thumbnail?id=10E-J2y3xD5LlcNUokndn1p1etZR4Xg7T&sz=w1000", caption: "I got you a gift that money can‚Äôt buy: My presence. You're welcome." },
          { id: 5, url: "https://images.unsplash.com/photo-1523438885200-e635ba2c371e?auto=format&fit=crop&q=80&w=800", caption: "Smile!" },
          { id: 6, url: "https://images.unsplash.com/photo-1514525253440-b393452e8d26?auto=format&fit=crop&q=80&w=800", caption: "Party time" },
          { id: 7, url: "https://images.unsplash.com/photo-1472653431158-6364773b2a56?auto=format&fit=crop&q=80&w=800", caption: "Adventures" },
          { id: 8, url: "https://images.unsplash.com/photo-1596908994789-9fe5694c9799?auto=format&fit=crop&q=80&w=800", caption: "Good vibes" },
          { id: 9, url: "https://images.unsplash.com/photo-1525268771113-32d9e9021a97?auto=format&fit=crop&q=80&w=800", caption: "Laughter" },
          { id: 10, url: "https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&q=80&w=800", caption: "Friends forever" },
          { id: 11, url: "https://images.unsplash.com/photo-1519671482502-9759101d4561?auto=format&fit=crop&q=80&w=800", caption: "Golden hour" },
          { id: 12, url: "https://images.unsplash.com/photo-1504196606672-aef5c9cefc92?auto=format&fit=crop&q=80&w=800", caption: "Celebration" },
          { id: 13, url: "https://images.unsplash.com/photo-1516961642265-531546e84af2?auto=format&fit=crop&q=80&w=800", caption: "Cheers!" },
          { id: 14, url: "https://images.unsplash.com/photo-1534142357876-456e307196b0?auto=format&fit=crop&q=80&w=800", caption: "Funny moments" },
          { id: 15, url: "https://images.unsplash.com/photo-1469334031218-e382a71b716b?auto=format&fit=crop&q=80&w=800", caption: "Sweet memories" },
        ];

        const FRIEND_NAME = "Neetha Chechi"; // Change this to your friend's name

        // --- COMPONENTS ---

        const ConfettiPiece = ({ color, left, delay }) => (
            <div
                className={`fixed top-0 w-3 h-3 rounded-sm pointer-events-none animate-fall`}
                style={{
                    backgroundColor: color,
                    left: left,
                    animationDelay: delay,
                    zIndex: 50
                }}
            />
        );

        const Balloon = ({ color, left, delay, speed }) => (
            <div 
                className="absolute bottom-[-100px] opacity-70 animate-float pointer-events-none"
                style={{ 
                    left: left, 
                    animationDelay: delay,
                    animationDuration: speed
                }}
            >
                <div className={`w-16 h-20 rounded-t-full rounded-b-full relative`} style={{ backgroundColor: color }}>
                    <div className="absolute bottom-[-10px] left-1/2 -translate-x-1/2 w-0.5 h-16 bg-gray-400 opacity-50"></div>
                </div>
            </div>
        );

        // --- MEMORY FRAME COMPONENT ---
        function MemoryFrame({ memory, containerRef, index }) {
            const ref = useRef(null);
            const [style, setStyle] = useState({ transform: 'scale(0.8)', opacity: 0 });

            useEffect(() => {
                const container = containerRef.current;
                if (!container) return;

                const updatePosition = () => {
                    if (!ref.current) return;
                    
                    const rect = ref.current.getBoundingClientRect();
                    const containerRect = container.getBoundingClientRect();
                    
                    // Calculate distance from center of container
                    const containerCenter = containerRect.top + containerRect.height / 2;
                    const elementCenter = rect.top + rect.height / 2;
                    const distance = Math.abs(containerCenter - elementCenter);
                    
                    // Calculate max distance (approx half viewport)
                    const maxDistance = containerRect.height / 1.5;
                    
                    // Animation logic
                    let normalized = 1 - Math.min(distance / maxDistance, 1);
                    normalized = Math.pow(normalized, 1.5); // Ease

                    const scale = 0.8 + (0.3 * normalized); 
                    const opacity = 0.3 + (0.7 * normalized); 
                    
                    const baseRotation = (index % 2 === 0 ? 1 : -1) * 2;
                    const rotate = baseRotation * (1 - normalized); 

                    setStyle({
                        transform: `scale(${scale}) rotate(${rotate}deg)`,
                        opacity: opacity,
                        filter: `blur(${(1 - normalized) * 5}px)`
                    });
                };

                container.addEventListener('scroll', updatePosition);
                updatePosition();
                
                return () => container.removeEventListener('scroll', updatePosition);
            }, [containerRef, index]);

            return (
                <div className="h-[80vh] w-full flex items-center justify-center snap-center p-6 sticky top-0" style={{ perspective: '1000px' }}>
                    <div 
                        ref={ref}
                        className="bg-white p-4 shadow-2xl rounded-sm transition-all duration-100 ease-out max-w-md w-full"
                        style={{
                            ...style,
                            transition: 'transform 0.1s ease-out, opacity 0.1s ease-out, filter 0.1s ease-out'
                        }}
                    >
                        <div className="aspect-square w-full bg-gray-100 mb-4 overflow-hidden">
                            <img 
                                src={memory.url} 
                                alt={memory.caption} 
                                className="w-full h-full object-cover"
                                onError={(e) => {
                                    e.target.onerror = null; 
                                    e.target.src = "https://placehold.co/600x600/pink/white?text=Image+Blocked";
                                }}
                            />
                        </div>
                        <div className="text-center">
                            <p className="text-xl font-handwriting text-gray-700 font-bold">{memory.caption}</p>
                            <p className="text-xs text-gray-400 mt-1">Memory #{index + 1}</p>
                        </div>
                    </div>
                </div>
            );
        }

        // --- MAIN APP COMPONENT ---
        function App() {
            const [started, setStarted] = useState(false);
            const [candles, setCandles] = useState([true, true, true, true, true]); 
            const [showConfetti, setShowConfetti] = useState(false);
            const [isPlaying, setIsPlaying] = useState(false);
            
            const scrollContainerRef = useRef(null);

            useEffect(() => {
                if (candles.every(c => c === false) && started) {
                    setShowConfetti(true);
                    setTimeout(() => setShowConfetti(false), 5000); 
                }
            }, [candles, started]);

            // Force rerender on scroll for smoothness (handled by child components usually, but good to have context)
            useEffect(() => {
                const container = scrollContainerRef.current;
                if (!container) return;
                const handleScroll = () => {}; // Child components handle the math
                container.addEventListener('scroll', handleScroll);
                return () => container.removeEventListener('scroll', handleScroll);
            }, [started]);

            const toggleCandle = (index) => {
                const newCandles = [...candles];
                newCandles[index] = false;
                setCandles(newCandles);
            };

            const resetCandles = () => {
                setCandles([true, true, true, true, true]);
                setShowConfetti(false);
            };

            const handleStart = () => {
                setStarted(true);
                setIsPlaying(true);
            };

            const confettiColors = ['#FFC0CB', '#FFD700', '#87CEEB', '#98FB98', '#DDA0DD'];
            const confettiElements = showConfetti 
                ? Array.from({ length: 50 }).map((_, i) => (
                        <ConfettiPiece 
                            key={i} 
                            color={confettiColors[i % confettiColors.length]} 
                            left={`${Math.random() * 100}vw`} 
                            delay={`${Math.random() * 2}s`}
                        />
                    ))
                : null;

            if (!started) {
                return (
                    <div className="min-h-screen bg-pink-50 flex flex-col items-center justify-center relative overflow-hidden font-sans">
                        {/* Decorative Background */}
                        <div className="absolute inset-0 overflow-hidden pointer-events-none">
                            <div className="absolute top-10 left-10 text-pink-200 animate-pulse"><IconHeart size={48} /></div>
                            <div className="absolute bottom-20 right-20 text-blue-200 animate-pulse" style={{ animationDelay: '1s' }}><IconStar size={56} /></div>
                            <div className="absolute top-1/2 right-10 text-yellow-200 animate-pulse" style={{ animationDelay: '0.5s' }}><IconSparkles size={40} /></div>
                        </div>

                        <div className="z-10 text-center">
                            <h1 className="text-4xl md:text-6xl font-bold text-gray-800 mb-8 tracking-wide">
                                Someone special has a birthday...
                            </h1>
                            
                            <button 
                                onClick={handleStart}
                                className="group relative inline-flex flex-col items-center justify-center transition-transform hover:scale-105 active:scale-95 focus:outline-none"
                            >
                                <div className="relative animate-bounce-slow">
                                    <IconGift size={120} className="text-pink-500 drop-shadow-xl" strokeWidth={1} fill="#FFC0CB" />
                                    <div className="absolute -top-2 -right-2 bg-yellow-400 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg group-hover:scale-110 transition-transform">
                                        CLICK ME!
                                    </div>
                                </div>
                                <span className="mt-6 text-xl text-gray-600 font-medium bg-white/80 px-6 py-2 rounded-full shadow-sm backdrop-blur-sm">
                                    Tap to Open Gift
                                </span>
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 overflow-hidden font-sans text-gray-800 flex flex-col">
                    <div className="fixed inset-0 pointer-events-none z-50">
                        {confettiElements}
                    </div>

                    <div className="fixed inset-0 pointer-events-none overflow-hidden z-0">
                        <Balloon color="#FFC0CB" left="10%" delay="0s" speed="15s" />
                        <Balloon color="#87CEEB" left="30%" delay="2s" speed="18s" />
                        <Balloon color="#DDA0DD" left="70%" delay="1s" speed="20s" />
                        <Balloon color="#FFD700" left="85%" delay="4s" speed="16s" />
                    </div>

                    <nav className="flex-none bg-white/80 backdrop-blur-md shadow-sm z-40">
                        <div className="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
                            <div className="flex items-center space-x-2">
                                <IconSparkles className="text-yellow-500" />
                                <span className="font-bold text-xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-purple-600">
                                    HBD {FRIEND_NAME}!
                                </span>
                            </div>
                            <button 
                                onClick={() => setIsPlaying(!isPlaying)}
                                className="p-2 rounded-full hover:bg-gray-100 transition-colors"
                                title={isPlaying ? "Mute" : "Play Music"}
                            >
                                {isPlaying ? <IconVolume2 size={20} className="text-gray-600" /> : <IconVolumeX size={20} className="text-gray-400" />}
                            </button>
                        </div>
                    </nav>

                    <div 
                        ref={scrollContainerRef}
                        className="memory-reel flex-1 overflow-y-auto overflow-x-hidden relative scroll-smooth"
                        style={{ scrollSnapType: 'y mandatory' }}
                    >
                        {/* HERO */}
                        <section className="min-h-[80vh] flex flex-col items-center justify-center snap-start relative z-10 px-4">
                            <h1 className="text-5xl md:text-7xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-indigo-400 mb-6 drop-shadow-sm text-center">
                                Happy Birthday!
                            </h1>
                            <p className="text-lg md:text-xl text-gray-600 max-w-xl mx-auto leading-relaxed text-center mb-10">
                                Here's to another year of amazing memories, laughter, and joy. You deserve the best day ever!
                            </p>
                            <div className="animate-bounce text-pink-400 flex flex-col items-center opacity-70">
                                <span className="text-sm font-medium mb-1">Scroll Down</span>
                                <IconChevronDown size={24} />
                            </div>
                        </section>

                        {/* CAKE */}
                        <section className="min-h-[60vh] flex flex-col items-center justify-center snap-center relative z-10 py-10">
                            <div className="bg-white p-8 rounded-3xl shadow-xl border-4 border-pink-100 max-w-sm w-full text-center relative overflow-hidden transform hover:scale-105 transition-transform duration-300">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-300 via-pink-300 to-yellow-300"></div>
                                
                                <h2 className="text-2xl font-bold text-gray-700 mb-8">Make a Wish!</h2>
                                <p className="text-sm text-gray-400 mb-8 italic">(Tap the flames to blow them out)</p>
                                
                                <div className="relative h-40 w-full flex justify-center items-end mb-4">
                                    <div className="absolute bottom-0 w-48 h-24 bg-pink-200 rounded-md flex items-end justify-center shadow-lg">
                                        <div className="w-full h-4 bg-pink-300 absolute top-4 opacity-50"></div>
                                        <div className="text-pink-400 font-bold tracking-widest text-lg mb-8">HBD</div>
                                    </div>
                                    
                                    <div className="absolute bottom-24 flex space-x-4">
                                        {candles.map((isLit, index) => (
                                            <div key={index} className="flex flex-col items-center relative" style={{ marginTop: index % 2 === 0 ? '-10px' : '0' }}>
                                                <div 
                                                    onClick={() => toggleCandle(index)}
                                                    className={`w-4 h-6 rounded-full cursor-pointer transition-all duration-300 ${isLit ? 'bg-orange-400 flame' : 'bg-gray-300 opacity-50 scale-75'}`}
                                                    style={{ borderRadius: '50% 50% 20% 20%' }}
                                                >
                                                    {isLit && <div className="w-2 h-3 bg-yellow-200 rounded-full mx-auto mt-2"></div>}
                                                </div>
                                                <div className="w-3 h-10 bg-blue-300 border-b border-blue-400 shadow-sm relative">
                                                    <div className="absolute top-0 w-full h-full bg-white opacity-30" style={{ transform: 'skewY(30deg)' }}></div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {candles.every(c => c === false) && (
                                    <button 
                                        onClick={resetCandles}
                                        className="mt-4 text-sm text-pink-500 underline hover:text-pink-600"
                                    >
                                        Relight Candles
                                    </button>
                                )}
                            </div>
                        </section>

                        {/* TITLE */}
                        <section className="snap-center py-20 text-center relative z-10">
                            <div className="inline-flex items-center space-x-3 bg-white/90 px-6 py-3 rounded-full shadow-md backdrop-blur-sm">
                                <IconCamera className="text-pink-500" />
                                <h2 className="text-2xl font-bold text-gray-800">Memory Lane</h2>
                            </div>
                        </section>

                        {/* PHOTOS */}
                        {memories.map((mem, index) => (
                            <MemoryFrame key={mem.id} memory={mem} containerRef={scrollContainerRef} index={index} />
                        ))}

                        {/* MESSAGE */}
                        <section className="min-h-[50vh] flex flex-col items-center justify-center snap-center relative z-10 px-4 pb-20">
                            <div className="max-w-2xl mx-auto bg-gradient-to-r from-pink-100 to-purple-100 rounded-3xl p-8 md:p-12 shadow-inner text-center relative">
                                <div className="absolute -top-6 left-1/2 -translate-x-1/2 bg-white p-3 rounded-full shadow-md">
                                    <IconHeart className="text-red-400 fill-current" size={32} />
                                </div>
                                <p className="text-xl md:text-2xl text-gray-700 font-serif italic leading-relaxed mb-6">
                                    "Counting my life by smiles, not tears. Counting your age by friends, not years. Happy Birthday!"
                                </p>
                                <p className="font-bold text-gray-600">- Yours aniyankuttan/ Bruce (not maadhavanüòæ)</p>
                            </div>
                            
                            <footer className="mt-12 text-center text-gray-400 text-sm">
                                <p>Made with ‚ù§Ô∏è just for you</p>
                            </footer>
                        </section>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>